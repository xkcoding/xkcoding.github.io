<!DOCTYPE html><html class="theme-next muse use-motion" lang="zh-CN"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><link rel="stylesheet" href="/lib/needsharebutton/needsharebutton.css"><script src="/lib/pace/pace.min.js?v=1.0.2"></script><link rel="stylesheet" href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2"><link rel="stylesheet" href="/lib/Han/dist/han.min.css?v=3.3"><meta name="google-site-verification" content="1QzehZlTl5aSnOCNs73zcBTKES4VP3lD03D9KydmKEE"><meta name="msvalidate.01" content="8BF7F99E04BB8024BEA713E231B70D39"><meta name="baidu-site-verification" content="GQoVEswEhI"><link rel="stylesheet" href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5"><link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2"><link rel="stylesheet" href="/css/main.css?v=7.0.0"><link rel="apple-touch-icon" sizes="180x180" href="/favicon.png?v=7.0.0"><link rel="icon" type="image/png" sizes="32x32" href="/favicon.png?v=7.0.0"><link rel="icon" type="image/png" sizes="16x16" href="/favicon.png?v=7.0.0"><link rel="mask-icon" href="/favicon.png?v=7.0.0" color="#222"><script>!function(e,t,o,a,c,i,n){e.DaoVoiceObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,i=t.createElement(o),n=t.getElementsByTagName(o)[0],i.async=1,i.src=a,i.charset="utf-8",n.parentNode.insertBefore(i,n)}(window,document,"script",("https:"==document.location.protocol?"https:":"http:")+"//widget.daovoice.io/widget/0f81ff2f.js","daovoice"),daovoice("init",{app_id:"80a62a84"}),daovoice("update")</script><script id="hexo.configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Muse",version:"7.0.0",sidebar:{position:"left",width:240,display:"always",offset:12,b2t:!1,scrollpercent:!1,onmobile:!1,dimmer:!1},copycode:{enable:!0,show_result:!0,style:"mac"},fancybox:!0,fastclick:!0,lazyload:!0,tabs:!0,motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},algolia:{applicationID:"ZV4RFZVZ58",apiKey:"ad1e0a485cd7b9e16a583282fc2843c6",indexName:"xkcoding",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}}}</script><meta name="description" content="We are all in the gutter,but some of us are looking at the stars."><meta name="keywords" content="总结展望"><meta property="og:type" content="article"><meta property="og:title" content="又是一年总结时"><meta property="og:url" content="https://xkcoding.com/2019/12/31/bye2019-hello2020.html"><meta property="og:site_name" content="CodingDiary"><meta property="og:description" content="We are all in the gutter,but some of us are looking at the stars."><meta property="og:locale" content="zh-CN"><meta property="og:image" content="https://static.xkcoding.com/blog/2020-01-17-github-commit-2019.png"><meta property="og:image" content="https://static.xkcoding.com/blog/2020-01-17-spring-boot-demo-stars.png"><meta property="og:image" content="https://static.xkcoding.com/blog/2020-01-17-ATENZA.jpg"><meta property="og:image" content="https://static.xkcoding.com/blog/2020-01-17-me.JPG"><meta property="og:updated_time" content="2022-10-04T22:31:35.226Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="又是一年总结时"><meta name="twitter:description" content="We are all in the gutter,but some of us are looking at the stars."><meta name="twitter:image" content="https://static.xkcoding.com/blog/2020-01-17-github-commit-2019.png"><link rel="alternate" href="/atom.xml" title="CodingDiary" type="application/atom+xml"><link rel="canonical" href="https://xkcoding.com/2019/12/31/bye2019-hello2020.html"><script id="page.configurations">CONFIG.page={sidebar:""}</script><title>又是一年总结时 | CodingDiary</title><script async src="//www.googletagmanager.com/gtag/js?id=[object Object]"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","[object Object]")</script><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?521f6d48d3fa40ce529ba993fc1a46b4";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-title,.use-motion .comments,.use-motion .menu-item,.use-motion .motion-element,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .logo,.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript></head><body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-CN"><div class="container sidebar-position-left page-post-detail"><div class="headband"></div><header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-wrapper"><div class="site-meta"><div class="custom-logo-site-title"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">CodingDiary</span><span class="logo-line-after"><i></i></span></a></div><h1 class="site-subtitle" itemprop="description">代码日记</h1></div><div class="site-nav-toggle"> <button aria-label="切换导航栏"><span class="btn-bar"></span><span class="btn-bar"></span><span class="btn-bar"></span></button></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br>首页</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i><br>分类<span class="badge">39</span></a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i><br>标签<span class="badge">57</span></a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br>归档<span class="badge">86</span></a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i><br>关于</a></li><li class="menu-item menu-item-sitemap"><a href="/atom.xml" rel="section"><i class="menu-item-icon fa fa-fw fa-sitemap"></i><br>站点地图</a></li><li class="menu-item menu-item-wiki"><span class="exturl" data-url="aHR0cHM6Ly94a2NvZGluZy53aWtp"><i class="menu-item-icon fa fa-fw fa-code"></i><br>wiki</span></li><li class="menu-item menu-item-阅读"><span class="exturl" data-url="aHR0cHM6Ly9yZWFkaW5nLnhrY29kaW5nLmNvbQ=="><i class="menu-item-icon fa fa-fw fa-book"></i><br>阅读</span></li><li class="menu-item menu-item-友链"><a href="/links" rel="section"><i class="menu-item-icon fa fa-fw fa-link"></i><br>友链</a></li><li class="menu-item menu-item-search"><a href="javascript:;" class="popup-trigger"><i class="menu-item-icon fa fa-search fa-fw"></i><br>搜索</a></li></ul><div class="site-search"><div class="popup search-popup local-search-popup"><div class="local-search-header clearfix"><span class="search-icon"><i class="fa fa-search"></i></span><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span><div class="local-search-input-wrapper"> <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input"></div></div><div id="local-search-result"></div></div></div></nav></div></header> <span class="exturl github-corner" data-url="aHR0cHM6Ly9naXRodWIuY29tL3hrY29kaW5n" title="Follow me on GitHub" aria-label="Follow me on GitHub"><svg width="80" height="80" viewbox="0 0 250 250" style="fill:#222;color:#fff;position:absolute;top:0;border:0;right:0" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"/></svg></span><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><div id="posts" class="posts-expand"><div class="reading-progress-bar"></div><article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="https://xkcoding.com/2019/12/31/bye2019-hello2020.html"><span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person"><meta itemprop="name" content="xkcoding"><meta itemprop="description" content="xkcoding的代码成长日记"><meta itemprop="image" content="/images/avatar.png"></span><span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization"><meta itemprop="name" content="CodingDiary"></span><header class="post-header"><h2 class="post-title" itemprop="name headline">又是一年总结时<span class="exturl post-edit-link" data-url="aHR0cHM6Ly9naXRodWIuY29tL3hrY29kaW5nL015QmxvZy9lZGl0L21hc3Rlci9zb3VyY2UvX3Bvc3RzLzIwMjAtMDEtMDEuYnllMjAxOS1oZWxsbzIwMjAubWQ=" title="编辑"><i class="fa fa-pencil"></i></span></h2><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建时间：2020-01-01 00:00:00" itemprop="dateCreated datePublished" datetime="2020-01-01T00:00:00+08:00">2020-01-01</time></span> <span class="post-category"><span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/总结展望/" itemprop="url" rel="index"><span itemprop="name">总结展望</span></a></span></span> <span id="/2019/12/31/bye2019-hello2020.html" class="leancloud_visitors" data-flag-title="又是一年总结时"><span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span> <span class="post-meta-item-text">阅读次数：</span><span class="leancloud-visitors-count"></span></span><div class="post-symbolscount"><span class="post-meta-item-icon"><i class="fa fa-file-word-o"></i></span> <span class="post-meta-item-text">本文字数：</span> <span title="本文字数">3.5k</span> <span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-clock-o"></i></span> <span class="post-meta-item-text">阅读时长 &asymp;</span> <span title="阅读时长">3 分钟</span></div></div></header><div class="post-body han-init-context" itemprop="articleBody"><blockquote class="blockquote-center">We are all in the gutter,<br>but some of us are looking at the stars.</blockquote><a id="more"></a><p>2019 年转眼就过去了，迎来了新一轮的 decade。十年匆匆而过，我想借这次机会，好好的总结下这十年。</p><h2 id="忆往昔"><a class="header-anchor" href="#忆往昔"></a>忆往昔</h2><h3 id="杂记"><a class="header-anchor" href="#杂记"></a>杂记</h3><p>2010 年，我经历了中考，2013 年，我经历了高考，2 场决定命运起点的考试。</p><p>10 年的中考，吊车尾的挤上了「仙中」，一年不懈的努力，终于挤进了「五班」。</p><p>高中，最不愿意回忆的一个片段，一手好牌，被自己玩的稀烂。</p><p>13 年的高考，班里少数的几个二本，真是个难忘的夏天。五十多个人的实验班，10 个以下的二本，其余全是一本。「作死」这个词可以十分完美的形容高中的自己。在合适的时间做合适的事情，是我多年后的总结。学习如此，游戏如此，恋爱也是如此。</p><p>接下来就是我的大学，在「湖北文理学院」的日子了。可能是突然长大了，也可能是高考对自己的影响太大了，自尊心不断驱使着自己去学习。截止到我大三去北京工作之前，成绩始终在本专业前三，获得过「校二级奖学金」，也获得过「国家励志奖学金」。除了校级竞赛，也参加了「软件杯」本科组优秀奖、「蓝桥杯」湖北赛区三等奖、「全国物联网大赛」二等奖，还申请了「农产品供应链」的软著。</p><p>正是凭借自己的努力，在大三的时候，我获得了班主任及院辅导员的批准，允许我离校找工作。（<em><code>这里需要说明一下，我大学学的是「物联网工程」专业，同时我们这一届是第一届这个专业的学生，所以当时专业课已经在大二全部结束，所以我大三可以申请离校找工作，学校的时光异常珍贵，希望学弟学妹们好好珍惜！</code></em>）2016 年 7 月 28 号，我将自己的第一站选择了「北京」，也正是因为自己的自信和能力，以及「大卫哥」的信任，我在 2016 年 8 月 2 号正式入职（<em><code>不是实习哦</code></em>）我的第一家公司 ——「图迹科技」。我的工作生涯，也从此开始。在图迹的一年半时间，我遇到了好领导、好同事，感谢他们对我初入职场的照顾与包容，感恩🙏</p><h3 id="我的-2019"><a class="header-anchor" href="#我的-2019"></a>我的 2019</h3><p>接下来讲讲我的 2019 年吧：</p><h4 id="工作"><a class="header-anchor" href="#工作"></a>工作</h4><p>今年职能转变，Team 总共 4 个人啦。人数不多，一年里却也承担了 3 个产品的研发工作。</p><ol><li>第一次带团队，工作安排会有些不合理，会出现延期的情况。总结：工作量评估不能以自己的标准评估，需要因人而异。</li><li>既然是带领团队，团队与团队之间的协作，就得好好沟通。总结：我已经被工作磨平了棱角。</li><li>团队建设，一个团队，需要有一个团队的标签。总结：认真负责、技术优秀、代码规范，这三个词是我对我们团队打的标签。</li></ol><h4 id="技术"><a class="header-anchor" href="#技术"></a>技术</h4><p>今年一个产品由单体架构转向微服务架构，我几乎一人对其拆分、重构，初期还是 Spring Cloud Netflix 系列，后期全线切到 Spring Cloud Alibaba 系列。其中坑点无数，不过自己的进步也是极其明显。</p><p>简单列下遇到的一些坑，不知道小伙伴们有没有遇到这些问题呢：</p><ul><li>Spring Boot 1.x 升级 Spring Boot 2.x (<code>需要参考文档，修改部分配置</code>)</li><li>Eureka 自我保护机制，开发环境导致服务调用失败 (<code>开发过程中将其关闭</code>)</li><li>多个 FeignClient 导致出现多个 Bean 无法启动项目(<code>通过配置 contextId 解决</code>)</li><li>Eureka 升级到 Nacos，对 Nacos 的前端页面进行二开</li><li>二开 xxl-job-admin，使其支持 SimpleJob，同时注册到 Nacos</li><li>自定义 xxl-job-starter，自动连接 xxl-job-admin</li><li>…</li></ul><h4 id="健康"><a class="header-anchor" href="#健康"></a>健康</h4><p>今年身体不错，总的来说比较抗造了，不过肠胃确实是硬伤。</p><h4 id="开源"><a class="header-anchor" href="#开源"></a>开源</h4><p>今年算是做到了去年立的一个 Flag，就是尽量保证每天都可以在 GitHub 上写点东西。</p><p>贴一张打卡图：</p> <img src="https://static.xkcoding.com/blog/2020-01-17-github-commit-2019.png" style="zoom:80%"><p>这里要说明一下</p><ul><li>4.13 - 4.17 这五天，作为公司的优秀员工，前往桂林旅游去了</li><li>5.11 - 5.12 这两天有点压抑，去千岛湖散心去了</li><li>6.6 - 6.11 这六天，我和发小，2 对家庭在泰国，萨瓦迪卡🇹🇭</li><li>10.1 - 10.7 这一周，大学的朋友来杭州相聚，必须好吃好喝招待！</li></ul><p>在介绍一下今年做的一些开源贡献吧：</p><ol><li><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3hrY29kaW5nL3NwcmluZy1ib290LWRlbW8=" title="https://github.com/xkcoding/spring-boot-demo">spring-boot-demo<i class="fa fa-external-link"></i></span></li></ol><p><code>spring-boot-demo</code> 是一个用来深度学习并实战 spring boot 的项目，目前总共包含 63 个集成 demo，已经完成 52 个。</p><p>这个项目说实话，今年是它最辉煌的岁月，获得 GitHub 热门 Java 榜单 8 月份第一名、9 月份第八名、12 月份第三名的成绩。唯一遗憾的是，今年仍然没有给它完结掉。但好在，今年不是我一个人在战斗了，有不少热心的小伙伴提了很多有用的意见、也共享了一些 demo 的代码，真心感谢你们！下面晒一波战绩！</p> <img src="https://static.xkcoding.com/blog/2020-01-17-spring-boot-demo-stars.png" style="zoom:80%"><ol start="2"><li><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2p1c3RhdXRoL0p1c3RBdXRo" title="https://github.com/justauth/JustAuth">JustAuth<i class="fa fa-external-link"></i></span></li></ol><p><code>JustAuth</code>是 💯 史上最全的整合第三方登录的开源库。</p><p>这个项目是我第一次以主要贡献者的身份参与进来的项目，主要做了以下的贡献：</p><ul><li>集成微信登录(包括公众号和开放平台)、QQ登录、Google登录、微软登录、小米登录、企业微信登录</li><li>优化代码、架构，增加自定义 State 缓存功能</li><li>提供 jFinal 版 demo</li><li>提供 ActFramework 版 demo</li><li>提供 SpringBoot 快速集成的 justauth-spring-boot-starter</li><li>抽取 HTTP 模块，使其与 hutool-http 解耦，支持任意 Http Client 接入</li></ul><p>通过参与这个项目，让我意识到，工具类型的开源项目设计一个易用的 API 的重要性以及代码封装通用性的好处。</p><ol start="3"><li><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3hrY29kaW5nL21hZ2ljLXN0YXJ0ZXI=" title="https://github.com/xkcoding/magic-starter">magic-starter<i class="fa fa-external-link"></i></span></li></ol><p><code>magic-starter</code> 一套神奇的starter，只为爱“偷懒”的你~</p><p>这个项目的目的是对项目开发中常见的功能的封装，做一套 starter，方便 Spring Boot 项目快速引用集成。主要包括：</p><ul class="contains-task-list"><li class="task-list-item"><input class="task-list-item-checkbox" checked="checked" disabled="disabled" type="checkbox"> 自动装配组件模块：magic-core-auto</li><li class="task-list-item"><input class="task-list-item-checkbox" checked="checked" disabled="disabled" type="checkbox"> 核心工具包模块：magic-core-tool</li><li class="task-list-item"><input class="task-list-item-checkbox" checked="checked" disabled="disabled" type="checkbox"> 依赖版本控制模块：magic-starter-bom</li><li class="task-list-item"><input class="task-list-item-checkbox" checked="checked" disabled="disabled" type="checkbox"> 极简的权限控制模块：magic-starter-secure</li><li class="task-list-item"><input class="task-list-item-checkbox" checked="checked" disabled="disabled" type="checkbox"> 通用操作日志封装模块：magic-starter-log</li><li class="task-list-item"><input class="task-list-item-checkbox" checked="checked" disabled="disabled" type="checkbox"> 通用消息通知封装模块：magic-starter-message</li><li class="task-list-item"><input class="task-list-item-checkbox" disabled="disabled" type="checkbox"> 限流组件模块：magic-starter-ratelimiter</li><li class="task-list-item"><input class="task-list-item-checkbox" disabled="disabled" type="checkbox"> 分布式锁模块：magic-starter-locker</li><li class="task-list-item"><input class="task-list-item-checkbox" checked="checked" disabled="disabled" type="checkbox"> 通用对象存储封装模块：magic-starter-oss</li><li class="task-list-item"><input class="task-list-item-checkbox" checked="checked" disabled="disabled" type="checkbox"> 分布式主键生成器模块：magic-starter-id</li></ul><p>这套组件暂时还未正式 Release，都还是快照版本。每个模块都配有对应的文档及 demo，小伙伴们敬请期待吧</p><ol start="4"><li><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3hrY29kaW5nL2Rlc2lnbi1wYXR0ZXJu" title="https://github.com/xkcoding/design-pattern">design-pattern<i class="fa fa-external-link"></i></span></li></ol><p>这个项目是设计模式学习配套代码，对应博文<a href="https://xkcoding.com/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">在这里👉</a></p><ol start="5"><li>其他</li></ol><p>今年也参与了一些其他开源项目的建设：</p><ul><li><p><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FsaWJhYmEvbmFjb3M=" title="https://github.com/alibaba/nacos">nacos<i class="fa fa-external-link"></i></span>: 提交了 3 个 BUG ISSUE，1 个 PR</p></li><li><p><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2xldHMtbWljYS9taWNh" title="https://github.com/lets-mica/mica">mica<i class="fa fa-external-link"></i></span>: 提交了 2 个 PR</p></li><li><p><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2xvb2x5L2h1dG9vbA==" title="https://github.com/looly/hutool">hutool<i class="fa fa-external-link"></i></span>: 提交了 1 个 PR</p></li></ul><p>总结：坦白说我对于社区的贡献不值一提，开源于我而言，更像是一种帮助他人提升自己的一个过程，我很开心，也很享受。看着 <code>spring-boot-demo</code> 可以为很多刚刚入门的朋友们提供帮助，看着自己参与的 <code>JustAuth</code> 能被好多的人夸好用，我觉得一切都很值得。社区让我遇到很多朋友，<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL0NodW5NZW5nTHU=" title="https://github.com/ChunMengLu">@春哥<i class="fa fa-external-link"></i></span>、<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3poYW5neWQtYw==" title="https://github.com/zhangyd-c">@亚东<i class="fa fa-external-link"></i></span>、<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2NoaWxsemh1YW5n" title="https://github.com/chillzhuang">@翼神<i class="fa fa-external-link"></i></span>，他们对我的帮助都非常大，感谢你们！</p><h4 id="其他"><a class="header-anchor" href="#其他"></a>其他</h4><p>6.22喜提阿特兹一枚~</p> <img src="https://static.xkcoding.com/blog/2020-01-17-ATENZA.jpg" style="zoom:80%"><h2 id="看今朝"><a class="header-anchor" href="#看今朝"></a>看今朝</h2><blockquote><p>跨入新的 10 年，迎接新的自己！</p></blockquote><h3 id="我的-2020"><a class="header-anchor" href="#我的-2020"></a>我的 2020</h3><h4 id="学习"><a class="header-anchor" href="#学习"></a>学习</h4><ul class="contains-task-list"><li class="task-list-item"><input class="task-list-item-checkbox" disabled="disabled" type="checkbox"> 学习 Flink</li><li class="task-list-item"><input class="task-list-item-checkbox" disabled="disabled" type="checkbox"> 学习非阻塞编程，了解 WebFlux 技术</li><li class="task-list-item"><input class="task-list-item-checkbox" disabled="disabled" type="checkbox"> 学习一些团队管理的知识</li></ul><h4 id="开源-2"><a class="header-anchor" href="#开源-2"></a>开源</h4><ul class="contains-task-list"><li class="task-list-item"><input class="task-list-item-checkbox" disabled="disabled" type="checkbox"> 继续维护 <code>JustAuth</code></li><li class="task-list-item"><input class="task-list-item-checkbox" disabled="disabled" type="checkbox"> 一定要把 <code>spring-boot-demo</code> 完结了</li><li class="task-list-item"><input class="task-list-item-checkbox" disabled="disabled" type="checkbox"> 发布 <code>Magic-Starter</code> Release 版本</li><li class="task-list-item"><input class="task-list-item-checkbox" disabled="disabled" type="checkbox"> 写个微信小程序</li><li class="task-list-item"><input class="task-list-item-checkbox" disabled="disabled" type="checkbox"> 完成我的<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3hrY29kaW5nL3Jld2FyZA==" title="https://github.com/xkcoding/reward">赞(乞)赏(讨)系统<i class="fa fa-external-link"></i></span></li><li class="task-list-item"><input class="task-list-item-checkbox" disabled="disabled" type="checkbox"> 写一个后端管理脚手架同时配套前端代码</li></ul><h4 id="情感"><a class="header-anchor" href="#情感"></a>情感</h4><p>是时候去完成人生大事了！</p><h4 id="工作-2"><a class="header-anchor" href="#工作-2"></a>工作</h4><p>恩，世界那么大，我想去大厂看看！</p><h2 id="后记"><a class="header-anchor" href="#后记"></a>后记</h2><p>本来这篇总结是想在元旦的时候写的，这一年经历的挺多，却愣是憋不出来。拖来拖去，拖到今晚(2020.01.17)，小年夜，终于是给写完了，也算是对自己的 2019 年有了一个交代，2020 年加油！</p><p>附上帅照一张：</p> <img src="https://static.xkcoding.com/blog/2020-01-17-me.JPG" style="zoom:20%"></div><div><div><div style="text-align:center;color:#ccc;font-size:14px">-------------本文结束&nbsp;<i class="fa fa-paw"></i>&nbsp;感谢您的阅读-------------</div></div></div><div><div id="wechat_subscriber" style="display:block;padding:10px 0;margin:20px auto;width:100%;text-align:center"> <img id="wechat_subscriber_qcode" src="/images/qrcode_for_xkcoding.jpg" alt="xkcoding wechat" style="width:200px;max-width:100%"><div>欢迎来我的公众号「xkcoding小凯扣丁」逛逛</div></div></div><div><div style="padding:10px 0;margin:20px auto;width:90%;text-align:center"><div>o(╯□╰)o 赞助一杯咖啡 ~~</div> <button id="rewardButton" disable="enable" onclick='var qr=document.getElementById("QR");"none"===qr.style.display?qr.style.display="block":qr.style.display="none"'> <span>打赏</span></button><div id="QR" style="display:none"><div id="wechat" style="display:inline-block"> <img id="wechat_qr" src="/resources/wechat-reward-image.png" alt="xkcoding 微信支付"><p>微信支付</p></div><div id="alipay" style="display:inline-block"> <img id="alipay_qr" src="/resources/alipay-reward-image.png" alt="xkcoding 支付宝"><p>支付宝</p></div></div></div></div><div><ul class="post-copyright"><li class="post-copyright-author"> <strong>本文作者：</strong> xkcoding</li><li class="post-copyright-link"> <strong>本文链接：</strong> <a href="https://xkcoding.com/2019/12/31/bye2019-hello2020.html" title="又是一年总结时">https://xkcoding.com/2019/12/31/bye2019-hello2020.html</a></li><li class="post-copyright-license"> <strong>版权声明：</strong> 本博客所有文章除特别声明外，均采用<span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC8="><i class="fa fa-fw fa-creative-commons"></i> BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div><footer class="post-footer"><div class="post-tags"><a href="/tags/总结展望/" rel="tag"><i class="fa fa-tag"></i> 总结展望</a></div><div class="post-widgets"><div class="social_share"><div id="needsharebutton-postbottom"><span class="btn"><i class="fa fa-share-alt" aria-hidden="true"></i></span></div></div></div><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/2019/12/26/xkcoding-simple-http.html" rel="next" title="简单 HTTP 工具"><i class="fa fa-chevron-left"></i> 简单 HTTP 工具</a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"> <a href="/2020/04/01/somewords-about-dissmission-2020.html" rel="prev" title="2020.Q1总结 & 离职感想">2020.Q1总结 & 离职感想<i class="fa fa-chevron-right"></i></a></div></div></footer></div></article></div></div><div class="comments" id="comments"><div id="disqus_thread"><noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript></div></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span><span class="sidebar-toggle-line sidebar-toggle-line-middle"></span><span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap"> 文章目录</li><li class="sidebar-nav-overview" data-target="site-overview-wrap"> 站点概览</li></ul><div class="site-overview-wrap sidebar-panel"><div class="site-overview"><div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" src="/images/avatar.png" alt="xkcoding"><p class="site-author-name" itemprop="name">xkcoding</p><p class="site-description motion-element" itemprop="description">xkcoding的代码成长日记</p></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"> <a href="/archives/"><span class="site-state-item-count">86</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"> <a href="/categories/index.html"><span class="site-state-item-count">39</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"> <a href="/tags/index.html"><span class="site-state-item-count">57</span> <span class="site-state-item-name">标签</span></a></div></nav><div class="feed-link motion-element"><a href="/atom.xml" rel="alternate"><i class="fa fa-rss"></i> RSS</a></div><div class="links-of-author motion-element"><span class="links-of-author-item"><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3hrY29kaW5n" title="GitHub &rarr; https://github.com/xkcoding"><i class="fa fa-fw fa-github"></i> GitHub</span></span><span class="links-of-author-item"><span class="exturl" data-url="bWFpbHRvOjIzNzQ5NzgxOUBxcS5jb20=" title="邮箱 &rarr; mailto:237497819@qq.com"><i class="fa fa-fw fa-envelope"></i> 邮箱</span></span><span class="links-of-author-item"><span class="exturl" data-url="dGVuY2VudDovL21lc3NhZ2UvP21lbnU9eWVzJnVpbj0yMzc0OTc4MTkmd2Vic2l0ZW5hbWU9aW0ucXEuY29t" title="QQ &rarr; tencent://message/?menu=yes&uin=237497819&websitename=im.qq.com"><i class="fa fa-fw fa-qq"></i> QQ</span></span><span class="links-of-author-item"><span class="exturl" data-url="aHR0cHM6Ly93d3cud2VpYm8uY29tL3hrY29kaW5n" title="微博 &rarr; https://www.weibo.com/xkcoding"><i class="fa fa-fw fa-weibo"></i> 微博</span></span><span class="links-of-author-item"><span class="exturl" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3Blb3BsZS9jaGVuLXlhbmcta2FpLTYyL2FjdGl2aXRpZXM=" title="知乎 &rarr; https://www.zhihu.com/people/chen-yang-kai-62/activities"><i class="fa fa-fw fa-globe"></i> 知乎</span></span><span class="links-of-author-item"><a href="/atom.xml" title="RSS &rarr; /atom.xml"><i class="fa fa-fw fa-rss"></i> RSS</a></span></div><div class="cc-license motion-element" itemprop="license"> <span class="exturl cc-opacity" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC8="><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></span></div><div class="site-author motion-element"> <img class="mp-image" src="/images/qrcode_for_xkcoding.jpg" alt="xkcoding小凯扣丁"><p class="site-description">xkcoding小凯扣丁</p><p class="site-description motion-element">欢迎来我的公众号逛逛！</p></div></div></div><div class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active"><div class="post-toc"><div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#忆往昔"><span class="nav-text">忆往昔</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#杂记"><span class="nav-text">杂记</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#我的-2019"><span class="nav-text">我的 2019</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#工作"><span class="nav-text">工作</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#技术"><span class="nav-text">技术</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#健康"><span class="nav-text">健康</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#开源"><span class="nav-text">开源</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#其他"><span class="nav-text">其他</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#看今朝"><span class="nav-text">看今朝</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#我的-2020"><span class="nav-text">我的 2020</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#学习"><span class="nav-text">学习</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#开源-2"><span class="nav-text">开源</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#情感"><span class="nav-text">情感</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#工作-2"><span class="nav-text">工作</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#后记"><span class="nav-text">后记</span></a></li></ol></div></div></div></div></aside></div></main><footer id="footer" class="footer"><div class="footer-inner"><div class="copyright"> <span class="exturl" data-url="aHR0cDovL2JlaWFuLm1paXQuZ292LmNuLw==">浙ICP备15019787号-1</span> &copy; 2015 – <span itemprop="copyrightYear">2022</span><span class="with-love" id="animate"><i class="fa fa-heart"></i></span> <span class="author" itemprop="copyrightHolder">xkcoding</span> <span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-area-chart"></i></span> <span class="post-meta-item-text">站点总字数：</span> <span title="站点总字数">549k</span> <span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-coffee"></i></span> <span class="post-meta-item-text">站点阅读时长 &asymp;</span> <span title="站点阅读时长">8:19</span></div><div class="busuanzi-count"><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="post-meta-item-icon"><i class="fa fa-user"></i> 访客数:</span><span class="site-uv" title="总访客量"><span class="busuanzi-value" id="busuanzi_value_site_uv"></span></span> <span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-eye"></i> 阅读量:</span><span class="site-pv" title="总访问量"><span class="busuanzi-value" id="busuanzi_value_site_pv"></span></span></div></div></footer><div class="back-to-top"><i class="fa fa-arrow-up"></i></div><div id="needsharebutton-float"><span class="btn"><i class="fa fa-share-alt" aria-hidden="true"></i></span></div></div><script>"[object Function]"!==Object.prototype.toString.call(window.Promise)&&(window.Promise=null)</script><script src="/lib/jquery/index.js?v=2.1.3"></script><script src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script><script src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script><script src="/lib/velocity/velocity.min.js?v=1.2.1"></script><script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script><script src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script><script src="/lib/reading_progress/reading_progress.js"></script><script src="/js/src/utils.js?v=7.0.0"></script><script src="/js/src/motion.js?v=7.0.0"></script><script src="/js/src/schemes/muse.js?v=7.0.0"></script><script src="/js/src/scrollspy.js?v=7.0.0"></script><script src="/js/src/post-details.js?v=7.0.0"></script><script src="/js/src/bootstrap.js?v=7.0.0"></script><script>var disqus_config=function(){this.page.url="https://xkcoding.com/2019/12/31/bye2019-hello2020.html",this.page.identifier="2019/12/31/bye2019-hello2020.html",this.page.title="又是一年总结时"};function loadComments(){var t=document,o=t.createElement("script");o.src="https://dai-ma-ri-ji.disqus.com/embed.js",o.setAttribute("data-timestamp",""+ +new Date),(t.head||t.body).appendChild(o)}$(function(){$("#comments").offset().top-$(window).height()<=0?loadComments():$(window).on("scroll.disqus_scroll",function(){$("#comments").offset().top-$(window).height()-$(window).scrollTop()<60&&($(window).off(".disqus_scroll"),loadComments())})})</script><script>
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      
        // ref: https://github.com/ForbesLindesay/unescape-html
        var unescapeHtml = function(html) {
          return String(html)
            .replace(/&quot;/g, '"')
            .replace(/&#39;/g, '\'')
            .replace(/&#x3A;/g, ':')
            // replace all the other &#x; chars
            .replace(/&#(\d+);/g, function (m, p) { return String.fromCharCode(p); })
            .replace(/&lt;/g, '<')
            .replace(/&gt;/g, '>')
            .replace(/&amp;/g, '&');
        };
      

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                
                content = unescapeHtml(content);
                
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url).replace(/\/{2,}/g, '/');
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x"></i></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x"></i></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script><script>
    
    function addCount(Counter) {
      var $visitors = $('.leancloud_visitors');
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();

      Counter('get', '/classes/Counter', { where: JSON.stringify({ url }) })
        .done(function({ results }) {
          if (results.length > 0) {
            var counter = results[0];
            
            Counter('put', '/classes/Counter/' + counter.objectId, JSON.stringify({ time: { '__op': 'Increment', 'amount': 1 } }))
            
              .done(function() {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.time + 1);
              })
            
              .fail(function ({ responseJSON }) {
                console.log(`Failed to save Visitor num, with error message: ${responseJSON.error}`);
              })
          } else {
            
              Counter('post', '/classes/Counter', JSON.stringify({ title: title, url: url, time: 1 }))
                .done(function() {
                  var $element = $(document.getElementById(url));
                  $element.find('.leancloud-visitors-count').text(1);
                })
                .fail(function() {
                  console.log('Failed to create');
                });
            
          }
        })
        .fail(function ({ responseJSON }) {
          console.log(`LeanCloud Counter Error: ${responseJSON.code} ${responseJSON.error}`);
        });
    }
    

    $(function() {
      $.get('https://app-router.leancloud.cn/2/route?appId=' + 'igdqTfV9rbtm7WF3pmcBo0fM-gzGzoHsz')
        .done(function({ api_server }) {
          var Counter = function(method, url, data) {
            return $.ajax({
              method: method,
              url: 'https://' + api_server + '/1.1' + url,
              headers: {
                'X-LC-Id': 'igdqTfV9rbtm7WF3pmcBo0fM-gzGzoHsz',
                'X-LC-Key': 'qJ9XOC1VMiPdYow77o4YVWMN',
                'Content-Type': 'application/json',
              },
              data: data
            });
          };
          
            addCount(Counter);
          
        });
    });
  </script><script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}()</script><script src="/lib/needsharebutton/needsharebutton.js"></script><script>pbOptions={iconStyle:"default",boxForm:"horizontal",position:"bottomCenter",networks:"QQZone,Wechat,Weibo,Douban,Mailto,Evernote,Twitter,Facebook"},new needShareButton("#needsharebutton-postbottom",pbOptions),flOptions={iconStyle:"default",boxForm:"vertical",position:"middleRight",networks:"QQZone,Wechat,Weibo,Douban,Mailto,Evernote,Twitter,Facebook"},new needShareButton("#needsharebutton-float",flOptions)</script><script src="/lib/pangu/dist/pangu.min.js?v=3.3"></script><script>pangu.spacingPage()</script><script src="/js/src/js.cookie.js?v=7.0.0"></script><script src="/js/src/scroll-cookie.js?v=7.0.0"></script><script src="/js/src/exturl.js?v=7.0.0"></script><script src="/lib/bookmark/bookmark.min.js?v=1.0"></script><script>bookmark.scrollToMark("auto","#更多")</script><style>.copy-btn{display:inline-block;padding:6px 12px;font-size:13px;font-weight:700;line-height:20px;color:#333;white-space:nowrap;vertical-align:middle;cursor:pointer;background-color:#eee;background-image:linear-gradient(#fcfcfc,#eee);border:1px solid #d5d5d5;border-radius:3px;user-select:none;outline:0}.highlight-wrap .copy-btn{transition:opacity .3s ease-in-out;opacity:0;padding:2px 6px;position:absolute;right:4px;top:8px}.highlight-wrap .copy-btn:focus,.highlight-wrap:hover .copy-btn{opacity:1}.highlight-wrap{position:relative}</style><script>$(".highlight").each(function(e,t){var n=$("<div>").addClass("highlight-wrap");$(t).after(n),n.append($("<button>").addClass("copy-btn").append("复制").on("click",function(e){var t=$(this).parent().find(".code").find(".line").map(function(e,t){return $(t).text()}).toArray().join("\n"),n=document.createElement("textarea"),o=document.createRange(),a=window.getSelection(),i=window.pageYOffset||document.documentElement.scrollTop;n.style.top=i+"px",n.style.position="absolute",n.style.opacity="0",n.value=t,n.textContent=t,n.contentEditable=!0,n.readOnly=!1,document.body.appendChild(n),o.selectNode(n),a.removeAllRanges(),a.addRange(o),n.setSelectionRange(0,t.length),document.execCommand("copy")?$(this).text("复制成功"):$(this).text("复制失败"),n.blur(),$(this).blur()})).on("mouseleave",function(e){var t=$(this).find(".copy-btn");setTimeout(function(){t.text("复制")},300)}).append(t)})</script><script type="text/javascript" src="/js/clicklove.js"></script></body></html>